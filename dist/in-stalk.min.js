!function(){"use strict";!function(){function t(t,n,e){return t.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:e}))}function n(t){var n=t.getBoundingClientRect();return null!==t.offsetParent&&n.bottom>=0&&n.top<=window.innerHeight&&n.right>=0&&n.left<=window.innerWidth}function e(t){var n=t.getBoundingClientRect();return null!==t.offsetParent&&n.top<=window.innerHeight&&n.top>=0?"enter":"exit"}function o(t){var n=t.getBoundingClientRect();return null!==t.offsetParent&&n.bottom<=window.innerHeight&&n.bottom>=0?"enter":"exit"}var i=!1;if("function"!=typeof window.CustomEvent){var u=function(t){var n=arguments.length<=1||void 0===arguments[1]?{bubbles:!1,cancelable:!1,detail:void 0}:arguments[1],e=document.createEvent("CustomEvent");return e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),e};u.prototype=window.Event.prototype,window.CustomEvent=u,i=!0}var r=!1,l=!1,a=[],c=["load","scroll","hashchange","touchend","resize"],s=[],f=function(){a.length>0&&!r?m():0===a.length&&r&&d()},m=function(){r=!0,c.concat(s).forEach(function(t){return window.addEventListener(t,v)})},d=function(){r=!1,c.concat(s).forEach(function(t){return window.removeEventListener(t,v)})},g=function(i){var u=n(i.element),r=e(i.element),l=o(i.element);i.top!==r&&(console.log(r),i.top=r,t(i.element,"in-stalk.top."+r)),i.bottom!==l&&(i.bottom=l,t(i.element,"in-stalk.bottom."+l)),"in"!==i.status||u?"out"===i.status&&u?(t(i.element,"in-stalk.in"),t(i.element,i.element.getBoundingClientRect().top<0?"in-stalk.in.top":"in-stalk.in.bottom"),i.status="in"):"new"===i.status&&(i.status=u?"in":"out",i.top=r,i.bottom=l,u&&t(i.element,"in-stalk.in")):(t(i.element,"in-stalk.out"),t(i.element,i.element.getBoundingClientRect().bottom<0?"in-stalk.out.top":"in-stalk.out.bottom"),i.status="out")},v=function(){l=!0,a.forEach(g)},w={add:function(t){var n={element:t,status:"new"};a.push(n),l&&g(n),f()},remove:function(t){var n=a.filter(function(n){return n.element!==t});return n.length!==a.length?(a=n,f(),!0):!1},listenFor:function(t){d(),s=s.filter(function(n){return n!==t}).concat(t),f()},ignore:function(t){d(),s=s.filter(function(n){return n!==t}),f()},check:v};window.inStalk=w}()}();