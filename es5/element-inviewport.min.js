"use strict";(function(){var n=function(){var n=!1,t=!1,e=[],i=["load","scroll","hashchange","touchend","resize"],o=[],r=function(n){var t=n.getBoundingClientRect();return null!==n.offsetParent&&t.bottom>=0&&t.top<=window.innerHeight&&t.right>=0&&t.left<=window.innerWidth},u=function(n,t){return n.dispatchEvent(new CustomEvent("viewport:"+t,{bubbles:!0}))},c=function(){e.length>0&&!n?s():0===e.length&&n&&a()},s=function(){n=!0,i.concat(o).forEach(function(n){return window.addEventListener(n,l)})},a=function(){n=!1,i.concat(o).forEach(function(n){return window.removeEventListener(n,l)})},f=function(n){var t=r(n.element);"in"!==n.status||t?"out"===n.status&&t?(u(n.element,"in"),n.status="in"):"new"===n.status&&(n.status=t?"in":"out",t&&u(n.element,"in")):(u(n.element,"out"),n.status="out")},l=function(){t=!0,e.forEach(f)};return{add:function(n){var i={element:n,status:"new"};e.push(i),t&&f(i),c()},remove:function(n){var t=e.filter(function(t){return t.element!==n});return t.length!==e.length?(e=t,c(),!0):!1},addListener:function(n){a(),o.push(n),c()},removeListener:function(n){a(),o=o.filter(function(t){return t!==n}),c()},check:l}}();window.viewportwatcher=n}).call(void 0);