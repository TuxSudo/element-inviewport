"use strict";(function(){function n(){var n=!1,e=[],t=[],i=function(n){var e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=window.innerHeight&&e.right<=window.innerWidth},o=function(n){return e.concat(t).filter(function(e){return e!==n}).length>0},r=function(n){return e.push(n),c(n),l(),!0},c=function(n){n.dispatchEvent(new CustomEvent("inview:entered",{bubbles:!0}))},u=function(n){n.dispatchEvent(new CustomEvent("inview:exited",{bubbles:!0}))},l=function(){e.length+t.length>0&&!n?h():e.length+t.length===0&&n&&s()},h=function(){n=!0,["scroll","hashchange","touchmove","resize"].forEach(function(n){window.addEventListener(n,f)})},s=function(){n=!1,["scroll","hashchange","touchmove","resize"].forEach(function(n){window.removeEventListener(n,f)})},f=function(){for(var n,o=[],r=[];e.length;)n=e.pop(),i(n)?o.push(n):(r.push(n),u(n));for(;t.length;)n=t.pop(),i(n)?(o.push(n),c(n)):r.push(n);t=r,e=o};return{add:function(n){return o(n)?!1:i(n)&&r(n)||t.push(n)&&l()},remove:function(n){var i=e.filter(function(e){return n!==e}),o=t.filter(function(e){return n!==e});return i.length+o.length===e.length+t.length?!1:(t=o,e=i,l(),!0)}}}[].forEach.call(document.querySelectorAll("img:last-child"),function(e){e.addEventListener("inview:entered",function(){e.classList.add("active"),console.log("entered")}),e.addEventListener("inview:exited",function(){e.classList.remove("active"),console.log("exited")}),n().add(e)})}).call(void 0);