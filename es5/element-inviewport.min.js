"use strict";(function(){var n=function(){var n=!1,t=[],e=["scroll","hashchange","touchend","resize"],i=[],o=function(n){var t=n.getBoundingClientRect();return null!==n.offsetParent&&t.bottom>=0&&t.top<=window.innerHeight&&t.right>=0&&t.left<=window.innerWidth},r=function(n,t){return n.dispatchEvent(new CustomEvent("viewport:"+t,{bubbles:!0}))},u=function(){t.length>0&&!n?c():0===t.length&&n&&s()},c=function(){n=!0,e.concat(i).forEach(function(n){return window.addEventListener(n,a)})},s=function(){n=!1,e.concat(i).forEach(function(n){return window.removeEventListener(n,a)})},a=function(){t.forEach(function(n){"in"!==n.status||o(n.element)?"out"===n.status&&o(n.element)&&(r(n.element,"in"),n.status="in"):(r(n.element,"out"),n.status="out")})};return{add:function(n){var e={element:n,status:o(n)?"in":"out"};t.push(e),r(n,e.status),u()},remove:function(n){var e=t.filter(function(t){return t.element!==n});return e.length!==t.length?(t=e,u(),!0):!1},addListener:function(n){s(),i.push(n),u()},removeListener:function(n){s(),i=i.filter(function(t){return t!==n}),u()}}}();window.viewportwatcher=n}).call(void 0);