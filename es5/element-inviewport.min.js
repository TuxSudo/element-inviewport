"use strict";(function(){var t=function(){var t=!1,n=[],e=function(t){var n=t.getBoundingClientRect();return n.top>=0&&n.top<=window.innerHeight||n.bottom>=0&&n.bottom<=window.innerHeight},o=function(t,n){return t.dispatchEvent(new CustomEvent("viewport:"+n,{bubbles:!0}))},i=function(){n.length>0&&!t?u():0===n.length&&t&&r()},u=function(){t=!0,["scroll","hashchange","touchend","resize"].forEach(function(t){window.addEventListener(t,c)})},r=function(){t=!1,["scroll","hashchange","touchend","resize"].forEach(function(t){window.removeEventListener(t,c)})},c=function(){n.forEach(function(t){"in"!==t.status||e(t.element)?"out"===t.status&&e(t.element)&&(o(t.element,"in"),t.status="in"):(o(t.element,"out"),t.status="out")})};return{add:function(t){var u={element:t,status:e(t)?"in":"out"};n.push(u),o(t,u.status),i()},remove:function(t){var e=n.filter(function(n){return n.element!==t});return e.length!==n.length?(n=e,i(),!0):!1}}}();window.viewportwatcher=t}).call(void 0);